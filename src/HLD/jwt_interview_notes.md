# JSON Web Token (JWT) â€“ Interview Notes

## ğŸ”¹ What is JWT?
**JWT (JSON Web Token)** is a compact, URL-safe token format used for **authentication and information exchange** between two parties (usually client â†” server).

Itâ€™s basically a **digitally signed string** that proves identity and carries some claims (data about the user).

---

## ğŸ”¹ Structure of JWT
A JWT has **3 parts**, separated by dots (`.`):

`Header.Payload.Signature`

Example:
```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
.
eyJ1c2VySWQiOiIxMjM0Iiwicm9sZSI6IkFkbWluIn0
.
TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ
```

### 1. **Header**
- Contains metadata.
- Example:
```json
{
  "alg": "HS256",   // Algorithm used for signature
  "typ": "JWT"
}
```

### 2. **Payload**
- Contains **claims** (information about the user).
- Example:
```json
{
  "userId": "1234",
  "role": "Admin",
  "exp": 1694823120   // Expiry timestamp
}
```

### 3. **Signature**
- Generated by signing (Header + Payload) with a secret/private key.
- Ensures token **integrity** (it canâ€™t be tampered with).

---

## ğŸ”¹ How JWT Works in Authentication
1. **Login Phase**
    - User logs in with username/password.
    - Server verifies credentials.
    - Server generates a JWT (with user info, expiry, roles) and sends it back.

2. **Subsequent Requests**
    - Client sends JWT in the **Authorization header**:
      ```
      Authorization: Bearer <JWT>
      ```
    - Server verifies the JWTâ€™s **signature and expiry**.
    - If valid â†’ request allowed, else rejected.

---

## ğŸ”¹ Why JWT is Popular
âœ… **Stateless** â€“ Server doesnâ€™t need to store session data (token carries all info).  
âœ… **Scalable** â€“ Works well in distributed systems/microservices.  
âœ… **Secure** â€“ Canâ€™t be tampered with (signed).  
âœ… **Portable** â€“ Compact & works over HTTP headers, cookies, WebSockets.

---

## ğŸ”¹ Common Use Cases
- API Authentication (most common).
- OAuth2 / OpenID Connect (access + ID tokens).
- Information exchange between services.

---

## ğŸ”¹ Limitations / Pitfalls
âš ï¸ **No easy revocation** â€“ Once issued, JWT is valid till expiry (unless you maintain a blacklist).  
âš ï¸ **Size** â€“ Larger than opaque session IDs.  
âš ï¸ **Security** â€“ Must be **HTTPS only** (to avoid token theft).  
âš ï¸ **Short expiry recommended** â€“ Use refresh tokens for long-lived sessions.

---

## ğŸ”¹ Analogy (easy to explain in interview)
Think of JWT like a **boarding pass at the airport**:
- It has your details (name, flight, seat = payload).
- Itâ€™s issued by airline with their digital stamp = signature.
- Security guard just checks validity, doesnâ€™t need to call airlineâ€™s database = stateless.

---

## ğŸ”¹ Interview Tip
If asked **â€œWhy JWT over sessions?â€**
- Sessions require **server-side storage** (scaling issue).
- JWT is **self-contained** and works in distributed, stateless systems.  
