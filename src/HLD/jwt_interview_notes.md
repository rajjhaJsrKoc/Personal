# JSON Web Token (JWT) – Interview Notes

## 🔹 What is JWT?
**JWT (JSON Web Token)** is a compact, URL-safe token format used for **authentication and information exchange** between two parties (usually client ↔ server).

It’s basically a **digitally signed string** that proves identity and carries some claims (data about the user).

---

## 🔹 Structure of JWT
A JWT has **3 parts**, separated by dots (`.`):

`Header.Payload.Signature`

Example:
```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
.
eyJ1c2VySWQiOiIxMjM0Iiwicm9sZSI6IkFkbWluIn0
.
TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ
```

### 1. **Header**
- Contains metadata.
- Example:
```json
{
  "alg": "HS256",   // Algorithm used for signature
  "typ": "JWT"
}
```

### 2. **Payload**
- Contains **claims** (information about the user).
- Example:
```json
{
  "userId": "1234",
  "role": "Admin",
  "exp": 1694823120   // Expiry timestamp
}
```

### 3. **Signature**
- Generated by signing (Header + Payload) with a secret/private key.
- Ensures token **integrity** (it can’t be tampered with).

---

## 🔹 How JWT Works in Authentication
1. **Login Phase**
    - User logs in with username/password.
    - Server verifies credentials.
    - Server generates a JWT (with user info, expiry, roles) and sends it back.

2. **Subsequent Requests**
    - Client sends JWT in the **Authorization header**:
      ```
      Authorization: Bearer <JWT>
      ```
    - Server verifies the JWT’s **signature and expiry**.
    - If valid → request allowed, else rejected.

---

## 🔹 Why JWT is Popular
✅ **Stateless** – Server doesn’t need to store session data (token carries all info).  
✅ **Scalable** – Works well in distributed systems/microservices.  
✅ **Secure** – Can’t be tampered with (signed).  
✅ **Portable** – Compact & works over HTTP headers, cookies, WebSockets.

---

## 🔹 Common Use Cases
- API Authentication (most common).
- OAuth2 / OpenID Connect (access + ID tokens).
- Information exchange between services.

---

## 🔹 Limitations / Pitfalls
⚠️ **No easy revocation** – Once issued, JWT is valid till expiry (unless you maintain a blacklist).  
⚠️ **Size** – Larger than opaque session IDs.  
⚠️ **Security** – Must be **HTTPS only** (to avoid token theft).  
⚠️ **Short expiry recommended** – Use refresh tokens for long-lived sessions.

---

## 🔹 Analogy (easy to explain in interview)
Think of JWT like a **boarding pass at the airport**:
- It has your details (name, flight, seat = payload).
- It’s issued by airline with their digital stamp = signature.
- Security guard just checks validity, doesn’t need to call airline’s database = stateless.

---

## 🔹 Interview Tip
If asked **“Why JWT over sessions?”**
- Sessions require **server-side storage** (scaling issue).
- JWT is **self-contained** and works in distributed, stateless systems.  
